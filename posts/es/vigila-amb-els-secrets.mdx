---
title: "Cuidado con los secretos: el ataque que toc√≥ tu servidor"
date: "2025-05-02"
summary: "Evita filtraciones de secretos en producci√≥n. Analizamos un intento real de ataque y te explicamos c√≥mo proteger tu servidor con buenas pr√°cticas de seguridad."
image: "/images/vigila-els-secrets.png" 
categories: ["development"]
slug: "vigila-los-secretos"
---

## C√≥mo evitar la filtraci√≥n de secretos al publicar un proyecto en producci√≥n

El d√≠a 2 de mayo de 2025, a las 02:41:37 de la madrugada, una IP de √Åmsterdam (213.232.87.232) inici√≥ un escaneo sistem√°tico de tu servidor. No buscaba p√°ginas web. No quer√≠a ver contenido. Buscaba secretos. ¬øY t√∫, estabas preparado?

Este tipo de ataque es m√°s com√∫n de lo que crees. Y no, no es ‚Äúhacking‚Äù de pel√≠cula. Es solo una m√°quina haciendo peticiones. Pero las peticiones son inteligentes. Y peligrosas.

### üîç ¬øQu√© buscaba?

La lista es escalofriante:

-   `/.vscode/sftp.json`
-   `/server.key`
-   `/.ssh/id_rsa`
-   `/backup.sql`
-   `/.env`
-   `/cloud-config.yml`
-   `/secrets.json`
-   `/docker-compose.yml`
-   `/config.php`
-   `/.aws/credentials`
-   `/.git/HEAD`
-   y muchos m√°s...

Todos ellos son archivos que han sido expuestos por error en producci√≥n en cientos de proyectos en el mundo. Y todos pueden contener claves privadas, secretos de API, credenciales, configuraciones sensibles, copias de seguridad... todo.

### üìâ Una sola fuga = desastre

Cuando publicas un proyecto, especialmente si usas frameworks como Laravel, Node.js, Django, etc., es f√°cil olvidarte de archivos como `.env`, `config.yml` o directorios enteros como `.git/`. En StackOverflow y en Hacker News, hay m√∫ltiples historias de desarrolladores que han cometido este error, como el caso famoso en el que alguien hizo commit por error de las claves de AWS en un repositorio p√∫blico y, en menos de una hora, tuvo facturas de miles de d√≥lares por uso malicioso de servicios como EC2 y S3.

### üîê Buenas pr√°cticas para proteger secretos

Seg√∫n plataformas de detecci√≥n de secretos como [ScatteredSecrets](https://scatteredsecrets.com) y reportes sobre tr√°fico malicioso, estas son algunas medidas que deber√≠an ser obligatorias:

-   **Nunca publiques tu `.env` ni archivos de configuraci√≥n sensibles.** Usa `.gitignore`.
-   **Configura correctamente tu servidor.** Todo archivo que empiece por punto (`.`) deber√≠a estar denegado por el servidor HTTP.
-   **Evita exponer directorios como `.git`, `.svn`, `node_modules`, `vendor` o `storage`.**
-   **Audita tu repositorio.** Hay herramientas como [`git-secrets`](https://github.com/awslabs/git-secrets) o [`truffleHog`] para buscar secretos antes de hacer `push`.
-   **Despliega solo el artefacto de producci√≥n.** Nunca el c√≥digo fuente completo. Usa pipelines para limpiar y empaquetar.
-   **Monitorea los logs.** Las peticiones recibidas como las que te hemos mostrado son una alerta clara de que alguien te est√° escaneando.

### üõ°Ô∏è Tu servidor ha resistido‚Ä¶ esta vez

F√≠jate bien: muchas de las peticiones del ataque devolvieron un `403 Forbidden` o un `404 Not Found`. Afortunadamente. Pero solo hace falta una fuga mal configurada para abrir la puerta.

El futuro de tus sistemas depende de lo que hagas hoy. No esperes a ver un `GET /.env` con un `200 OK` en tu log para actuar.
